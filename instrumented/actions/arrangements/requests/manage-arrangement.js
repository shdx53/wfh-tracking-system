"use server";

// Library
function cov_2ng8v0x4lr() {
  var path = "/Users/ongsweelong/Library/CloudStorage/OneDrive-SingaporeManagementUniversity/Y3S1/SPM IS212/Project/wfh-tracking-system/app/actions/arrangements/requests/manage-arrangement.js";
  var hash = "27f2760163e9659ae338858716176c00b15fbeec";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/ongsweelong/Library/CloudStorage/OneDrive-SingaporeManagementUniversity/Y3S1/SPM IS212/Project/wfh-tracking-system/app/actions/arrangements/requests/manage-arrangement.js",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 22
        },
        end: {
          line: 13,
          column: 1
        }
      },
      "1": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 18
        }
      },
      "2": {
        start: {
          line: 21,
          column: 2
        },
        end: {
          line: 229,
          column: 3
        }
      },
      "3": {
        start: {
          line: 23,
          column: 17
        },
        end: {
          line: 23,
          column: 35
        }
      },
      "4": {
        start: {
          line: 26,
          column: 17
        },
        end: {
          line: 26,
          column: 43
        }
      },
      "5": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 152,
          column: 5
        }
      },
      "6": {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 151,
          column: 7
        }
      },
      "7": {
        start: {
          line: 38,
          column: 24
        },
        end: {
          line: 38,
          column: 27
        }
      },
      "8": {
        start: {
          line: 39,
          column: 21
        },
        end: {
          line: 39,
          column: 40
        }
      },
      "9": {
        start: {
          line: 40,
          column: 28
        },
        end: {
          line: 40,
          column: 47
        }
      },
      "10": {
        start: {
          line: 42,
          column: 26
        },
        end: {
          line: 42,
          column: 50
        }
      },
      "11": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 46,
          column: 9
        }
      },
      "12": {
        start: {
          line: 45,
          column: 10
        },
        end: {
          line: 45,
          column: 39
        }
      },
      "13": {
        start: {
          line: 50,
          column: 10
        },
        end: {
          line: 144,
          column: 11
        }
      },
      "14": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 109,
          column: 13
        }
      },
      "15": {
        start: {
          line: 56,
          column: 29
        },
        end: {
          line: 59,
          column: 15
        }
      },
      "16": {
        start: {
          line: 60,
          column: 38
        },
        end: {
          line: 60,
          column: 62
        }
      },
      "17": {
        start: {
          line: 63,
          column: 14
        },
        end: {
          line: 70,
          column: 16
        }
      },
      "18": {
        start: {
          line: 75,
          column: 38
        },
        end: {
          line: 75,
          column: 132
        }
      },
      "19": {
        start: {
          line: 76,
          column: 30
        },
        end: {
          line: 76,
          column: 58
        }
      },
      "20": {
        start: {
          line: 79,
          column: 40
        },
        end: {
          line: 79,
          column: 140
        }
      },
      "21": {
        start: {
          line: 80,
          column: 34
        },
        end: {
          line: 80,
          column: 78
        }
      },
      "22": {
        start: {
          line: 80,
          column: 63
        },
        end: {
          line: 80,
          column: 77
        }
      },
      "23": {
        start: {
          line: 81,
          column: 33
        },
        end: {
          line: 81,
          column: 55
        }
      },
      "24": {
        start: {
          line: 85,
          column: 14
        },
        end: {
          line: 94,
          column: 15
        }
      },
      "25": {
        start: {
          line: 87,
          column: 30
        },
        end: {
          line: 87,
          column: 68
        }
      },
      "26": {
        start: {
          line: 88,
          column: 27
        },
        end: {
          line: 93,
          column: 32
        }
      },
      "27": {
        start: {
          line: 99,
          column: 14
        },
        end: {
          line: 102,
          column: 16
        }
      },
      "28": {
        start: {
          line: 105,
          column: 40
        },
        end: {
          line: 105,
          column: 136
        }
      },
      "29": {
        start: {
          line: 106,
          column: 32
        },
        end: {
          line: 106,
          column: 64
        }
      },
      "30": {
        start: {
          line: 107,
          column: 14
        },
        end: {
          line: 108,
          column: 57
        }
      },
      "31": {
        start: {
          line: 112,
          column: 15
        },
        end: {
          line: 144,
          column: 11
        }
      },
      "32": {
        start: {
          line: 115,
          column: 12
        },
        end: {
          line: 118,
          column: 14
        }
      },
      "33": {
        start: {
          line: 121,
          column: 38
        },
        end: {
          line: 121,
          column: 134
        }
      },
      "34": {
        start: {
          line: 122,
          column: 30
        },
        end: {
          line: 122,
          column: 62
        }
      },
      "35": {
        start: {
          line: 123,
          column: 12
        },
        end: {
          line: 124,
          column: 57
        }
      },
      "36": {
        start: {
          line: 132,
          column: 38
        },
        end: {
          line: 132,
          column: 134
        }
      },
      "37": {
        start: {
          line: 133,
          column: 30
        },
        end: {
          line: 133,
          column: 62
        }
      },
      "38": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 139,
          column: 14
        }
      },
      "39": {
        start: {
          line: 142,
          column: 12
        },
        end: {
          line: 143,
          column: 57
        }
      },
      "40": {
        start: {
          line: 156,
          column: 28
        },
        end: {
          line: 156,
          column: 122
        }
      },
      "41": {
        start: {
          line: 157,
          column: 20
        },
        end: {
          line: 157,
          column: 48
        }
      },
      "42": {
        start: {
          line: 159,
          column: 31
        },
        end: {
          line: 159,
          column: 107
        }
      },
      "43": {
        start: {
          line: 160,
          column: 21
        },
        end: {
          line: 160,
          column: 49
        }
      },
      "44": {
        start: {
          line: 163,
          column: 4
        },
        end: {
          line: 208,
          column: 5
        }
      },
      "45": {
        start: {
          line: 164,
          column: 20
        },
        end: {
          line: 164,
          column: 22
        }
      },
      "46": {
        start: {
          line: 165,
          column: 6
        },
        end: {
          line: 172,
          column: 7
        }
      },
      "47": {
        start: {
          line: 166,
          column: 21
        },
        end: {
          line: 166,
          column: 24
        }
      },
      "48": {
        start: {
          line: 167,
          column: 35
        },
        end: {
          line: 167,
          column: 47
        }
      },
      "49": {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 171,
          column: 38
        }
      },
      "50": {
        start: {
          line: 175,
          column: 6
        },
        end: {
          line: 192,
          column: 7
        }
      },
      "51": {
        start: {
          line: 176,
          column: 22
        },
        end: {
          line: 176,
          column: 45
        }
      },
      "52": {
        start: {
          line: 177,
          column: 19
        },
        end: {
          line: 181,
          column: 24
        }
      },
      "53": {
        start: {
          line: 186,
          column: 22
        },
        end: {
          line: 186,
          column: 43
        }
      },
      "54": {
        start: {
          line: 187,
          column: 19
        },
        end: {
          line: 191,
          column: 24
        }
      },
      "55": {
        start: {
          line: 195,
          column: 9
        },
        end: {
          line: 208,
          column: 5
        }
      },
      "56": {
        start: {
          line: 196,
          column: 6
        },
        end: {
          line: 199,
          column: 7
        }
      },
      "57": {
        start: {
          line: 197,
          column: 19
        },
        end: {
          line: 197,
          column: 22
        }
      },
      "58": {
        start: {
          line: 198,
          column: 33
        },
        end: {
          line: 198,
          column: 45
        }
      },
      "59": {
        start: {
          line: 201,
          column: 20
        },
        end: {
          line: 201,
          column: 43
        }
      },
      "60": {
        start: {
          line: 202,
          column: 17
        },
        end: {
          line: 207,
          column: 22
        }
      },
      "61": {
        start: {
          line: 212,
          column: 4
        },
        end: {
          line: 212,
          column: 37
        }
      },
      "62": {
        start: {
          line: 213,
          column: 4
        },
        end: {
          line: 213,
          column: 22
        }
      },
      "63": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 215,
          column: 77
        }
      },
      "64": {
        start: {
          line: 216,
          column: 4
        },
        end: {
          line: 216,
          column: 42
        }
      },
      "65": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 220,
          column: 19
        }
      },
      "66": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 224,
          column: 6
        }
      },
      "67": {
        start: {
          line: 226,
          column: 4
        },
        end: {
          line: 228,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "manageArrangement",
        decl: {
          start: {
            line: 16,
            column: 22
          },
          end: {
            line: 16,
            column: 39
          }
        },
        loc: {
          start: {
            line: 16,
            column: 50
          },
          end: {
            line: 230,
            column: 1
          }
        },
        line: 16
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 80,
            column: 54
          },
          end: {
            line: 80,
            column: 55
          }
        },
        loc: {
          start: {
            line: 80,
            column: 63
          },
          end: {
            line: 80,
            column: 77
          }
        },
        line: 80
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 36,
            column: 6
          },
          end: {
            line: 151,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 6
          },
          end: {
            line: 151,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "1": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 46,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 46,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "2": {
        loc: {
          start: {
            line: 50,
            column: 10
          },
          end: {
            line: 144,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 50,
            column: 10
          },
          end: {
            line: 144,
            column: 11
          }
        }, {
          start: {
            line: 112,
            column: 15
          },
          end: {
            line: 144,
            column: 11
          }
        }],
        line: 50
      },
      "3": {
        loc: {
          start: {
            line: 52,
            column: 12
          },
          end: {
            line: 109,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 12
          },
          end: {
            line: 109,
            column: 13
          }
        }, {
          start: {
            line: 97,
            column: 17
          },
          end: {
            line: 109,
            column: 13
          }
        }],
        line: 52
      },
      "4": {
        loc: {
          start: {
            line: 85,
            column: 14
          },
          end: {
            line: 94,
            column: 15
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 14
          },
          end: {
            line: 94,
            column: 15
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "5": {
        loc: {
          start: {
            line: 112,
            column: 15
          },
          end: {
            line: 144,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 112,
            column: 15
          },
          end: {
            line: 144,
            column: 11
          }
        }, {
          start: {
            line: 127,
            column: 15
          },
          end: {
            line: 144,
            column: 11
          }
        }],
        line: 112
      },
      "6": {
        loc: {
          start: {
            line: 163,
            column: 4
          },
          end: {
            line: 208,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 163,
            column: 4
          },
          end: {
            line: 208,
            column: 5
          }
        }, {
          start: {
            line: 195,
            column: 9
          },
          end: {
            line: 208,
            column: 5
          }
        }],
        line: 163
      },
      "7": {
        loc: {
          start: {
            line: 171,
            column: 16
          },
          end: {
            line: 171,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 171,
            column: 16
          },
          end: {
            line: 171,
            column: 22
          }
        }, {
          start: {
            line: 171,
            column: 26
          },
          end: {
            line: 171,
            column: 31
          }
        }],
        line: 171
      },
      "8": {
        loc: {
          start: {
            line: 175,
            column: 6
          },
          end: {
            line: 192,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 175,
            column: 6
          },
          end: {
            line: 192,
            column: 7
          }
        }, {
          start: {
            line: 185,
            column: 11
          },
          end: {
            line: 192,
            column: 7
          }
        }],
        line: 175
      },
      "9": {
        loc: {
          start: {
            line: 195,
            column: 9
          },
          end: {
            line: 208,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 195,
            column: 9
          },
          end: {
            line: 208,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 195
      },
      "10": {
        loc: {
          start: {
            line: 206,
            column: 16
          },
          end: {
            line: 206,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 206,
            column: 16
          },
          end: {
            line: 206,
            column: 22
          }
        }, {
          start: {
            line: 206,
            column: 26
          },
          end: {
            line: 206,
            column: 31
          }
        }],
        line: 206
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "27f2760163e9659ae338858716176c00b15fbeec"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2ng8v0x4lr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2ng8v0x4lr();
import connection from "@/app/lib/db";
import { sendNotification } from "@/app/lib/notificationService.js";
const requestStatus = (cov_2ng8v0x4lr().s[0]++, {
  Approve: "approved",
  Reject: "rejected",
  "Withdraw this specific arrangement only": "withdrawn",
  "Withdraw entire arrangement": "withdrawn",
  Cancel: "cancelled"
});
export async function manageArrangement(formData) {
  cov_2ng8v0x4lr().f[0]++;
  // Store the outcomes of each arrangement (recurring & ad-hoc)
  var outcome = (cov_2ng8v0x4lr().s[1]++, {});
  cov_2ng8v0x4lr().s[2]++;
  try {
    // Establish the connection using the pool
    const pool = (cov_2ng8v0x4lr().s[3]++, await connection());

    // Get a connection from the pool
    const conn = (cov_2ng8v0x4lr().s[4]++, await pool.getConnection());

    // Loop through the form data (approve/reject/withdraw entire/withdraw all)
    // if adhoc, formData contains only 1 arrgmtID, if recurring, multiple arrgmtIDs
    /* e.g. {
              '144Action': 'Approve',
              '145Action': 'Reject',
              '145Reason': 'Shortage of manpower'
            } */
    cov_2ng8v0x4lr().s[5]++;
    for (const key in formData) {
      cov_2ng8v0x4lr().s[6]++;
      if (key.includes("Action")) {
        cov_2ng8v0x4lr().b[0][0]++;
        // Break down data into arrangementID, action, and reason
        var actionKey = (cov_2ng8v0x4lr().s[7]++, key);
        var action = (cov_2ng8v0x4lr().s[8]++, formData[actionKey]);
        var arrangementID = (cov_2ng8v0x4lr().s[9]++, key.match(/\d+/)[0]);
        const reasonKey = (cov_2ng8v0x4lr().s[10]++, `${arrangementID}Reason`);
        let reason;
        cov_2ng8v0x4lr().s[11]++;
        if (reasonKey in formData) {
          cov_2ng8v0x4lr().b[1][0]++;
          cov_2ng8v0x4lr().s[12]++;
          reason = formData[reasonKey];
        } else {
          cov_2ng8v0x4lr().b[1][1]++;
        }

        // Update arrangement
        // try {
        cov_2ng8v0x4lr().s[13]++;
        if (reason) {
          cov_2ng8v0x4lr().b[2][0]++;
          cov_2ng8v0x4lr().s[14]++;
          /* If a reason is provided (for rejection or withdrawawl) */
          if (action === "Withdraw entire arrangement") {
            cov_2ng8v0x4lr().b[3][0]++;
            /* Withdraw entire arrangement */
            // Fetch Applied_Datetime
            const [rows] = (cov_2ng8v0x4lr().s[15]++, await conn.query(`SELECT Applied_Datetime FROM Arrangement WHERE Arrangement_ID = ? LIMIT 1`, [arrangementID]));
            const appliedDatetime = (cov_2ng8v0x4lr().s[16]++, rows[0].Applied_Datetime);

            // Update all arrangements with the same Applied_Datetime
            cov_2ng8v0x4lr().s[17]++;
            await conn.query(`
                  UPDATE Arrangement 
                  SET Request_Status = "withdrawn", Update_Reason = ? 
                  WHERE Applied_Datetime = ?
                `, [reason, appliedDatetime]);

            // Notification to staff (only for withdrawal of entire arrangement)

            // Get staffID, start date
            const [staffID_query] = (cov_2ng8v0x4lr().s[18]++, await conn.query("SELECT Staff_ID FROM Arrangement WHERE Arrangement_ID = ?", [arrangementID]));
            const staffID = (cov_2ng8v0x4lr().s[19]++, staffID_query[0]['Staff_ID']);

            // Get all start dates from the recurring arrangement using applied_datetime
            const [startDate_query] = (cov_2ng8v0x4lr().s[20]++, await conn.query("SELECT Start_Date FROM Arrangement WHERE Applied_Datetime = ?", [appliedDatetime]));
            const startDates_ = (cov_2ng8v0x4lr().s[21]++, startDate_query.map(rec => {
              cov_2ng8v0x4lr().f[1]++;
              cov_2ng8v0x4lr().s[22]++;
              return rec.Start_Date;
            }));
            const startDates = (cov_2ng8v0x4lr().s[23]++, startDates_.join(', '));

            // Prepare email content 
            // for withdrawal of entire arrangement
            cov_2ng8v0x4lr().s[24]++;
            if (action === "Withdraw entire arrangement") {
              cov_2ng8v0x4lr().b[4][0]++;
              // Prepare email content - reason is not optional
              var subject = (cov_2ng8v0x4lr().s[25]++, "WFH Request " + requestStatus[action]);
              var body = (cov_2ng8v0x4lr().s[26]++, `Dear Staff,\n\n
                An entire recurring work-from-home arrangement was ${requestStatus[action]}:\n\n
                Staff ID: ${staffID}\n
                Start Dates: ${startDates}\n
                Reason: ${reason}\n\n
                Thank you. \n\n`);
            } else {
              cov_2ng8v0x4lr().b[4][1]++;
            }
          } else {
            cov_2ng8v0x4lr().b[3][1]++;
            cov_2ng8v0x4lr().s[27]++;
            /* Reject or withdraw a single arrangement */
            await conn.query("UPDATE Arrangement SET Request_Status = ?, Update_Reason = ? WHERE Arrangement_ID = ?", [requestStatus[action], reason, arrangementID]);

            // (for email) Get outcome details of the single arrangement
            const [startDate_query] = (cov_2ng8v0x4lr().s[28]++, await conn.query("SELECT Start_Date FROM Arrangement WHERE Arrangement_ID = ?", [arrangementID]));
            const startDate = (cov_2ng8v0x4lr().s[29]++, startDate_query[0]['Start_Date']);
            cov_2ng8v0x4lr().s[30]++;
            outcome[startDate] = {
              "action": requestStatus[action],
              "reason": reason
            };
          }
        } else {
          cov_2ng8v0x4lr().b[2][1]++;
          cov_2ng8v0x4lr().s[31]++;
          if (action === "Approve") {
            cov_2ng8v0x4lr().b[5][0]++;
            cov_2ng8v0x4lr().s[32]++;
            /* Approve arrangement */
            /* *Override Update_Reason to NULL */
            await conn.query("UPDATE Arrangement SET Request_Status = ?, Update_Reason = NULL WHERE Arrangement_ID = ?", [requestStatus[action], arrangementID]);

            // (for email) Get outcome details of the single arrangement
            const [startDate_query] = (cov_2ng8v0x4lr().s[33]++, await conn.query("SELECT Start_Date FROM Arrangement WHERE Arrangement_ID = ?", [arrangementID]));
            const startDate = (cov_2ng8v0x4lr().s[34]++, startDate_query[0]['Start_Date']);
            cov_2ng8v0x4lr().s[35]++;
            outcome[startDate] = {
              "action": requestStatus[action],
              "reason": reason
            };
          } else {
            cov_2ng8v0x4lr().b[5][1]++;
            /* Cancel arrangement */
            /* Entire arrangement is deleted */

            // (for email) Get startDate before arrangement is deleted
            const [startDate_query] = (cov_2ng8v0x4lr().s[36]++, await conn.query("SELECT Start_Date FROM Arrangement WHERE Arrangement_ID = ?", [arrangementID]));
            const startDate = (cov_2ng8v0x4lr().s[37]++, startDate_query[0]['Start_Date']);

            // Delete the arrangement
            cov_2ng8v0x4lr().s[38]++;
            await conn.query("DELETE FROM Arrangement WHERE Arrangement_ID = ?", [arrangementID]);

            // (for email) Get outcome details of the single arrangement
            cov_2ng8v0x4lr().s[39]++;
            outcome[startDate] = {
              "action": requestStatus[action],
              "reason": reason
            };
          }
        }
        // } 
        // catch (error) {
        //   return {
        //     message: "Failed to update arrangement(s)",
        //   };
        // }
      } else {
        cov_2ng8v0x4lr().b[0][1]++;
      }
    }

    // Notification to staff (for other types of arrangements)
    // Get staff email, start date
    const [staffID_query] = (cov_2ng8v0x4lr().s[40]++, await conn.query("SELECT Staff_ID FROM Arrangement WHERE Arrangement_ID = ?", [arrangementID]));
    const staffID = (cov_2ng8v0x4lr().s[41]++, staffID_query[0]['Staff_ID']);
    const [staffEmail_query] = (cov_2ng8v0x4lr().s[42]++, await conn.query("SELECT Email FROM Employee WHERE Staff_ID = ?", [staffID]));
    var staffEmail = (cov_2ng8v0x4lr().s[43]++, staffEmail_query[0]['Email']);

    // Email content for recurring arrangements
    cov_2ng8v0x4lr().s[44]++;
    if (Object.keys(outcome).length > 1) {
      cov_2ng8v0x4lr().b[6][0]++;
      // there will be MORE THAN 1 start date in 'outcome'
      var details = (cov_2ng8v0x4lr().s[45]++, ``);
      cov_2ng8v0x4lr().s[46]++;
      for (const key in outcome) {
        const date = (cov_2ng8v0x4lr().s[47]++, key); // The date string as the key
        const {
          action,
          reason
        } = (cov_2ng8v0x4lr().s[48]++, outcome[key]); // Destructure to get action and reason
        cov_2ng8v0x4lr().s[49]++;
        details += `\nStart Date: ${date}\n
      Outcome: ${action}\n
      Reason: ${(cov_2ng8v0x4lr().b[7][0]++, reason) || (cov_2ng8v0x4lr().b[7][1]++, "N/A")}\n\n`;
      }

      // Prepare email content for cancelled requests
      cov_2ng8v0x4lr().s[50]++;
      if (details.includes("cancelled")) {
        cov_2ng8v0x4lr().b[8][0]++;
        var subject = (cov_2ng8v0x4lr().s[51]++, "WFH Request cancelled");
        var body = (cov_2ng8v0x4lr().s[52]++, `Dear Staff,\n\n
        The following recurring work-from-home arrangement dates have been cancelled:\n\n
        Staff ID: ${staffID}\n
        ${details}\n
        Thank you. \n\n`);
      }

      // Prepare email content for other requests
      else {
        cov_2ng8v0x4lr().b[8][1]++;
        var subject = (cov_2ng8v0x4lr().s[53]++, "WFH Request outcome");
        var body = (cov_2ng8v0x4lr().s[54]++, `Dear Staff,\n\n
        Please see the outcomes of your recurring work-from-home arrangement dates:\n\n
        Staff ID: ${staffID}\n
        ${details}\n
        Thank you. \n\n`);
      }
    }
    // Email content for ad-hoc arrangements
    else {
      cov_2ng8v0x4lr().b[6][1]++;
      cov_2ng8v0x4lr().s[55]++;
      if (Object.keys(outcome).length === 1) {
        cov_2ng8v0x4lr().b[9][0]++;
        cov_2ng8v0x4lr().s[56]++;
        // there will be ONLY 1 start date in 'outcome'
        for (const key in outcome) {
          var date = (cov_2ng8v0x4lr().s[57]++, key); // The date string as the key
          var {
            action,
            reason
          } = (cov_2ng8v0x4lr().s[58]++, outcome[key]); // Destructure to get action and reason
        }
        // Prepare email content
        var subject = (cov_2ng8v0x4lr().s[59]++, "WFH Request " + action);
        var body = (cov_2ng8v0x4lr().s[60]++, `Dear Staff,\n\n
      A work-from-home arrangement was ${action}:\n\n
      Staff ID: ${staffID}\n
      Start Date: ${date}\n
      Reason: ${(cov_2ng8v0x4lr().b[10][0]++, reason) || (cov_2ng8v0x4lr().b[10][1]++, "N/A")}\n\n
      Thank you. \n\n`);
      } else {
        cov_2ng8v0x4lr().b[9][1]++;
      }
    }

    // Send out the email
    cov_2ng8v0x4lr().s[61]++;
    console.log('Subject:', subject);
    cov_2ng8v0x4lr().s[62]++;
    console.log(body);
    // Send notification using Mailtrap
    cov_2ng8v0x4lr().s[63]++;
    console.log(`Email for WFH request sent successfully to ${staffEmail}.`);
    cov_2ng8v0x4lr().s[64]++;
    await sendNotification(subject, body);

    // Release the connection back to the pool
    cov_2ng8v0x4lr().s[65]++;
    conn.release();
    cov_2ng8v0x4lr().s[66]++;
    return {
      message: "Arrangement(s) updated successfully"
    };
  } catch (error) {
    cov_2ng8v0x4lr().s[67]++;
    return {
      message: "Failed to update arrangement(s)"
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm5nOHYweDRsciIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInVuZGVmaW5lZCIsInMiLCJmIiwiYiIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJjb25uZWN0aW9uIiwic2VuZE5vdGlmaWNhdGlvbiIsInJlcXVlc3RTdGF0dXMiLCJBcHByb3ZlIiwiUmVqZWN0IiwiQ2FuY2VsIiwibWFuYWdlQXJyYW5nZW1lbnQiLCJmb3JtRGF0YSIsIm91dGNvbWUiLCJwb29sIiwiY29ubiIsImdldENvbm5lY3Rpb24iLCJrZXkiLCJpbmNsdWRlcyIsImFjdGlvbktleSIsImFjdGlvbiIsImFycmFuZ2VtZW50SUQiLCJtYXRjaCIsInJlYXNvbktleSIsInJlYXNvbiIsInJvd3MiLCJxdWVyeSIsImFwcGxpZWREYXRldGltZSIsIkFwcGxpZWRfRGF0ZXRpbWUiLCJzdGFmZklEX3F1ZXJ5Iiwic3RhZmZJRCIsInN0YXJ0RGF0ZV9xdWVyeSIsInN0YXJ0RGF0ZXNfIiwibWFwIiwicmVjIiwiU3RhcnRfRGF0ZSIsInN0YXJ0RGF0ZXMiLCJqb2luIiwic3ViamVjdCIsImJvZHkiLCJzdGFydERhdGUiLCJzdGFmZkVtYWlsX3F1ZXJ5Iiwic3RhZmZFbWFpbCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJkZXRhaWxzIiwiZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJyZWxlYXNlIiwibWVzc2FnZSIsImVycm9yIl0sInNvdXJjZXMiOlsibWFuYWdlLWFycmFuZ2VtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG4vLyBMaWJyYXJ5XG5pbXBvcnQgY29ubmVjdGlvbiBmcm9tIFwiQC9hcHAvbGliL2RiXCI7XG5pbXBvcnQgeyBzZW5kTm90aWZpY2F0aW9uIH0gZnJvbSBcIkAvYXBwL2xpYi9ub3RpZmljYXRpb25TZXJ2aWNlLmpzXCI7XG5cbmNvbnN0IHJlcXVlc3RTdGF0dXMgPSB7XG4gIEFwcHJvdmU6IFwiYXBwcm92ZWRcIixcbiAgUmVqZWN0OiBcInJlamVjdGVkXCIsXG4gIFwiV2l0aGRyYXcgdGhpcyBzcGVjaWZpYyBhcnJhbmdlbWVudCBvbmx5XCI6IFwid2l0aGRyYXduXCIsXG4gIFwiV2l0aGRyYXcgZW50aXJlIGFycmFuZ2VtZW50XCI6IFwid2l0aGRyYXduXCIsXG4gIENhbmNlbDogXCJjYW5jZWxsZWRcIlxufTtcblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFuYWdlQXJyYW5nZW1lbnQoZm9ybURhdGEpIHtcblxuICAvLyBTdG9yZSB0aGUgb3V0Y29tZXMgb2YgZWFjaCBhcnJhbmdlbWVudCAocmVjdXJyaW5nICYgYWQtaG9jKVxuICB2YXIgb3V0Y29tZSA9IHt9O1xuXG4gIHRyeSB7XG4gICAgLy8gRXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uIHVzaW5nIHRoZSBwb29sXG4gICAgY29uc3QgcG9vbCA9IGF3YWl0IGNvbm5lY3Rpb24oKTtcblxuICAgIC8vIEdldCBhIGNvbm5lY3Rpb24gZnJvbSB0aGUgcG9vbFxuICAgIGNvbnN0IGNvbm4gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgZm9ybSBkYXRhIChhcHByb3ZlL3JlamVjdC93aXRoZHJhdyBlbnRpcmUvd2l0aGRyYXcgYWxsKVxuICAgIC8vIGlmIGFkaG9jLCBmb3JtRGF0YSBjb250YWlucyBvbmx5IDEgYXJyZ210SUQsIGlmIHJlY3VycmluZywgbXVsdGlwbGUgYXJyZ210SURzXG4gICAgLyogZS5nLiB7XG4gICAgICAgICAgICAgICcxNDRBY3Rpb24nOiAnQXBwcm92ZScsXG4gICAgICAgICAgICAgICcxNDVBY3Rpb24nOiAnUmVqZWN0JyxcbiAgICAgICAgICAgICAgJzE0NVJlYXNvbic6ICdTaG9ydGFnZSBvZiBtYW5wb3dlcidcbiAgICAgICAgICAgIH0gKi9cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtRGF0YSkge1xuICAgICAgaWYgKGtleS5pbmNsdWRlcyhcIkFjdGlvblwiKSkge1xuICAgICAgICAvLyBCcmVhayBkb3duIGRhdGEgaW50byBhcnJhbmdlbWVudElELCBhY3Rpb24sIGFuZCByZWFzb25cbiAgICAgICAgdmFyIGFjdGlvbktleSA9IGtleTtcbiAgICAgICAgdmFyIGFjdGlvbiA9IGZvcm1EYXRhW2FjdGlvbktleV07XG4gICAgICAgIHZhciBhcnJhbmdlbWVudElEID0ga2V5Lm1hdGNoKC9cXGQrLylbMF07XG5cbiAgICAgICAgY29uc3QgcmVhc29uS2V5ID0gYCR7YXJyYW5nZW1lbnRJRH1SZWFzb25gO1xuICAgICAgICBsZXQgcmVhc29uO1xuICAgICAgICBpZiAocmVhc29uS2V5IGluIGZvcm1EYXRhKSB7XG4gICAgICAgICAgcmVhc29uID0gZm9ybURhdGFbcmVhc29uS2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBhcnJhbmdlbWVudFxuICAgICAgICAvLyB0cnkge1xuICAgICAgICAgIGlmIChyZWFzb24pIHtcbiAgICAgICAgICAgIC8qIElmIGEgcmVhc29uIGlzIHByb3ZpZGVkIChmb3IgcmVqZWN0aW9uIG9yIHdpdGhkcmF3YXdsKSAqL1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJXaXRoZHJhdyBlbnRpcmUgYXJyYW5nZW1lbnRcIikge1xuXG4gICAgICAgICAgICAgIC8qIFdpdGhkcmF3IGVudGlyZSBhcnJhbmdlbWVudCAqL1xuICAgICAgICAgICAgICAvLyBGZXRjaCBBcHBsaWVkX0RhdGV0aW1lXG4gICAgICAgICAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm4ucXVlcnkoXG4gICAgICAgICAgICAgICAgYFNFTEVDVCBBcHBsaWVkX0RhdGV0aW1lIEZST00gQXJyYW5nZW1lbnQgV0hFUkUgQXJyYW5nZW1lbnRfSUQgPSA/IExJTUlUIDFgLFxuICAgICAgICAgICAgICAgIFthcnJhbmdlbWVudElEXSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgYXBwbGllZERhdGV0aW1lID0gcm93c1swXS5BcHBsaWVkX0RhdGV0aW1lO1xuXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBhbGwgYXJyYW5nZW1lbnRzIHdpdGggdGhlIHNhbWUgQXBwbGllZF9EYXRldGltZVxuICAgICAgICAgICAgICBhd2FpdCBjb25uLnF1ZXJ5KFxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgIFVQREFURSBBcnJhbmdlbWVudCBcbiAgICAgICAgICAgICAgICAgIFNFVCBSZXF1ZXN0X1N0YXR1cyA9IFwid2l0aGRyYXduXCIsIFVwZGF0ZV9SZWFzb24gPSA/IFxuICAgICAgICAgICAgICAgICAgV0hFUkUgQXBwbGllZF9EYXRldGltZSA9ID9cbiAgICAgICAgICAgICAgICBgLFxuICAgICAgICAgICAgICAgIFtyZWFzb24sIGFwcGxpZWREYXRldGltZV0sXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgLy8gTm90aWZpY2F0aW9uIHRvIHN0YWZmIChvbmx5IGZvciB3aXRoZHJhd2FsIG9mIGVudGlyZSBhcnJhbmdlbWVudClcblxuICAgICAgICAgICAgICAvLyBHZXQgc3RhZmZJRCwgc3RhcnQgZGF0ZVxuICAgICAgICAgICAgICBjb25zdCBbc3RhZmZJRF9xdWVyeV0gPSBhd2FpdCBjb25uLnF1ZXJ5KFwiU0VMRUNUIFN0YWZmX0lEIEZST00gQXJyYW5nZW1lbnQgV0hFUkUgQXJyYW5nZW1lbnRfSUQgPSA/XCIsIFthcnJhbmdlbWVudElEXSk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YWZmSUQgPSBzdGFmZklEX3F1ZXJ5WzBdWydTdGFmZl9JRCddO1xuXG4gICAgICAgICAgICAgIC8vIEdldCBhbGwgc3RhcnQgZGF0ZXMgZnJvbSB0aGUgcmVjdXJyaW5nIGFycmFuZ2VtZW50IHVzaW5nIGFwcGxpZWRfZGF0ZXRpbWVcbiAgICAgICAgICAgICAgY29uc3QgW3N0YXJ0RGF0ZV9xdWVyeV0gPSBhd2FpdCBjb25uLnF1ZXJ5KFwiU0VMRUNUIFN0YXJ0X0RhdGUgRlJPTSBBcnJhbmdlbWVudCBXSEVSRSBBcHBsaWVkX0RhdGV0aW1lID0gP1wiLCBbYXBwbGllZERhdGV0aW1lXSk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZXNfID0gc3RhcnREYXRlX3F1ZXJ5Lm1hcCgocmVjKSA9PiByZWMuU3RhcnRfRGF0ZSk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZXMgPSBzdGFydERhdGVzXy5qb2luKCcsICcpO1xuXG4gICAgICAgICAgICAgIC8vIFByZXBhcmUgZW1haWwgY29udGVudCBcbiAgICAgICAgICAgICAgLy8gZm9yIHdpdGhkcmF3YWwgb2YgZW50aXJlIGFycmFuZ2VtZW50XG4gICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwiV2l0aGRyYXcgZW50aXJlIGFycmFuZ2VtZW50XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVwYXJlIGVtYWlsIGNvbnRlbnQgLSByZWFzb24gaXMgbm90IG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgdmFyIHN1YmplY3QgPSBcIldGSCBSZXF1ZXN0IFwiICsgcmVxdWVzdFN0YXR1c1thY3Rpb25dO1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYERlYXIgU3RhZmYsXFxuXFxuXG4gICAgICAgICAgICAgICAgQW4gZW50aXJlIHJlY3VycmluZyB3b3JrLWZyb20taG9tZSBhcnJhbmdlbWVudCB3YXMgJHtyZXF1ZXN0U3RhdHVzW2FjdGlvbl19OlxcblxcblxuICAgICAgICAgICAgICAgIFN0YWZmIElEOiAke3N0YWZmSUR9XFxuXG4gICAgICAgICAgICAgICAgU3RhcnQgRGF0ZXM6ICR7c3RhcnREYXRlc31cXG5cbiAgICAgICAgICAgICAgICBSZWFzb246ICR7cmVhc29ufVxcblxcblxuICAgICAgICAgICAgICAgIFRoYW5rIHlvdS4gXFxuXFxuYDtcbiAgICAgICAgICAgICAgfSAgICAgICBcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAvKiBSZWplY3Qgb3Igd2l0aGRyYXcgYSBzaW5nbGUgYXJyYW5nZW1lbnQgKi9cbiAgICAgICAgICAgICAgYXdhaXQgY29ubi5xdWVyeShcbiAgICAgICAgICAgICAgICBcIlVQREFURSBBcnJhbmdlbWVudCBTRVQgUmVxdWVzdF9TdGF0dXMgPSA/LCBVcGRhdGVfUmVhc29uID0gPyBXSEVSRSBBcnJhbmdlbWVudF9JRCA9ID9cIixcbiAgICAgICAgICAgICAgICBbcmVxdWVzdFN0YXR1c1thY3Rpb25dLCByZWFzb24sIGFycmFuZ2VtZW50SURdLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIChmb3IgZW1haWwpIEdldCBvdXRjb21lIGRldGFpbHMgb2YgdGhlIHNpbmdsZSBhcnJhbmdlbWVudFxuICAgICAgICAgICAgICBjb25zdCBbc3RhcnREYXRlX3F1ZXJ5XSA9IGF3YWl0IGNvbm4ucXVlcnkoXCJTRUxFQ1QgU3RhcnRfRGF0ZSBGUk9NIEFycmFuZ2VtZW50IFdIRVJFIEFycmFuZ2VtZW50X0lEID0gP1wiLCBbYXJyYW5nZW1lbnRJRF0pO1xuICAgICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBzdGFydERhdGVfcXVlcnlbMF1bJ1N0YXJ0X0RhdGUnXTtcbiAgICAgICAgICAgICAgb3V0Y29tZVtzdGFydERhdGVdID0geyBcImFjdGlvblwiOiByZXF1ZXN0U3RhdHVzW2FjdGlvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVhc29uXCI6IHJlYXNvbiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gXG5cbiAgICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09IFwiQXBwcm92ZVwiKSB7XG4gICAgICAgICAgICAvKiBBcHByb3ZlIGFycmFuZ2VtZW50ICovXG4gICAgICAgICAgICAvKiAqT3ZlcnJpZGUgVXBkYXRlX1JlYXNvbiB0byBOVUxMICovXG4gICAgICAgICAgICBhd2FpdCBjb25uLnF1ZXJ5KFxuICAgICAgICAgICAgICBcIlVQREFURSBBcnJhbmdlbWVudCBTRVQgUmVxdWVzdF9TdGF0dXMgPSA/LCBVcGRhdGVfUmVhc29uID0gTlVMTCBXSEVSRSBBcnJhbmdlbWVudF9JRCA9ID9cIixcbiAgICAgICAgICAgICAgW3JlcXVlc3RTdGF0dXNbYWN0aW9uXSwgYXJyYW5nZW1lbnRJRF0sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyAoZm9yIGVtYWlsKSBHZXQgb3V0Y29tZSBkZXRhaWxzIG9mIHRoZSBzaW5nbGUgYXJyYW5nZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IFtzdGFydERhdGVfcXVlcnldID0gYXdhaXQgY29ubi5xdWVyeShcIlNFTEVDVCBTdGFydF9EYXRlIEZST00gQXJyYW5nZW1lbnQgV0hFUkUgQXJyYW5nZW1lbnRfSUQgPSA/XCIsIFthcnJhbmdlbWVudElEXSk7XG4gICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBzdGFydERhdGVfcXVlcnlbMF1bJ1N0YXJ0X0RhdGUnXTtcbiAgICAgICAgICAgIG91dGNvbWVbc3RhcnREYXRlXSA9IHsgXCJhY3Rpb25cIjogcmVxdWVzdFN0YXR1c1thY3Rpb25dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlYXNvblwiOiByZWFzb24gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKiBDYW5jZWwgYXJyYW5nZW1lbnQgKi9cbiAgICAgICAgICAgIC8qIEVudGlyZSBhcnJhbmdlbWVudCBpcyBkZWxldGVkICovXG5cbiAgICAgICAgICAgIC8vIChmb3IgZW1haWwpIEdldCBzdGFydERhdGUgYmVmb3JlIGFycmFuZ2VtZW50IGlzIGRlbGV0ZWRcbiAgICAgICAgICAgIGNvbnN0IFtzdGFydERhdGVfcXVlcnldID0gYXdhaXQgY29ubi5xdWVyeShcIlNFTEVDVCBTdGFydF9EYXRlIEZST00gQXJyYW5nZW1lbnQgV0hFUkUgQXJyYW5nZW1lbnRfSUQgPSA/XCIsIFthcnJhbmdlbWVudElEXSk7XG4gICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBzdGFydERhdGVfcXVlcnlbMF1bJ1N0YXJ0X0RhdGUnXTtcblxuICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBhcnJhbmdlbWVudFxuICAgICAgICAgICAgYXdhaXQgY29ubi5xdWVyeShcbiAgICAgICAgICAgICAgXCJERUxFVEUgRlJPTSBBcnJhbmdlbWVudCBXSEVSRSBBcnJhbmdlbWVudF9JRCA9ID9cIixcbiAgICAgICAgICAgICAgW2FycmFuZ2VtZW50SURdLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gKGZvciBlbWFpbCkgR2V0IG91dGNvbWUgZGV0YWlscyBvZiB0aGUgc2luZ2xlIGFycmFuZ2VtZW50XG4gICAgICAgICAgICBvdXRjb21lW3N0YXJ0RGF0ZV0gPSB7IFwiYWN0aW9uXCI6IHJlcXVlc3RTdGF0dXNbYWN0aW9uXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWFzb25cIjogcmVhc29uIH07XG4gICAgICAgICAgfVxuICAgICAgICAvLyB9IFxuICAgICAgICAvLyBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gICByZXR1cm4ge1xuICAgICAgICAvLyAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gdXBkYXRlIGFycmFuZ2VtZW50KHMpXCIsXG4gICAgICAgIC8vICAgfTtcbiAgICAgICAgLy8gfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdGlmaWNhdGlvbiB0byBzdGFmZiAoZm9yIG90aGVyIHR5cGVzIG9mIGFycmFuZ2VtZW50cylcbiAgICAvLyBHZXQgc3RhZmYgZW1haWwsIHN0YXJ0IGRhdGVcbiAgICBjb25zdCBbc3RhZmZJRF9xdWVyeV0gPSBhd2FpdCBjb25uLnF1ZXJ5KFwiU0VMRUNUIFN0YWZmX0lEIEZST00gQXJyYW5nZW1lbnQgV0hFUkUgQXJyYW5nZW1lbnRfSUQgPSA/XCIsIFthcnJhbmdlbWVudElEXSk7XG4gICAgY29uc3Qgc3RhZmZJRCA9IHN0YWZmSURfcXVlcnlbMF1bJ1N0YWZmX0lEJ107XG5cbiAgICBjb25zdCBbc3RhZmZFbWFpbF9xdWVyeV0gPSBhd2FpdCBjb25uLnF1ZXJ5KFwiU0VMRUNUIEVtYWlsIEZST00gRW1wbG95ZWUgV0hFUkUgU3RhZmZfSUQgPSA/XCIsIFtzdGFmZklEXSk7XG4gICAgdmFyIHN0YWZmRW1haWwgPSBzdGFmZkVtYWlsX3F1ZXJ5WzBdWydFbWFpbCddO1xuXG4gICAgLy8gRW1haWwgY29udGVudCBmb3IgcmVjdXJyaW5nIGFycmFuZ2VtZW50c1xuICAgIGlmIChPYmplY3Qua2V5cyhvdXRjb21lKS5sZW5ndGggPiAxKSB7IC8vIHRoZXJlIHdpbGwgYmUgTU9SRSBUSEFOIDEgc3RhcnQgZGF0ZSBpbiAnb3V0Y29tZSdcbiAgICAgIHZhciBkZXRhaWxzID0gYGA7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvdXRjb21lKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBrZXk7IC8vIFRoZSBkYXRlIHN0cmluZyBhcyB0aGUga2V5XG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCByZWFzb24gfSA9IG91dGNvbWVba2V5XTsgLy8gRGVzdHJ1Y3R1cmUgdG8gZ2V0IGFjdGlvbiBhbmQgcmVhc29uXG4gICAgICAgIGRldGFpbHMgKz0gXG4gICAgICBgXFxuU3RhcnQgRGF0ZTogJHtkYXRlfVxcblxuICAgICAgT3V0Y29tZTogJHthY3Rpb259XFxuXG4gICAgICBSZWFzb246ICR7cmVhc29uIHx8IFwiTi9BXCJ9XFxuXFxuYDtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSBlbWFpbCBjb250ZW50IGZvciBjYW5jZWxsZWQgcmVxdWVzdHNcbiAgICAgIGlmIChkZXRhaWxzLmluY2x1ZGVzKFwiY2FuY2VsbGVkXCIpKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gXCJXRkggUmVxdWVzdCBjYW5jZWxsZWRcIjtcbiAgICAgICAgdmFyIGJvZHkgPSBgRGVhciBTdGFmZixcXG5cXG5cbiAgICAgICAgVGhlIGZvbGxvd2luZyByZWN1cnJpbmcgd29yay1mcm9tLWhvbWUgYXJyYW5nZW1lbnQgZGF0ZXMgaGF2ZSBiZWVuIGNhbmNlbGxlZDpcXG5cXG5cbiAgICAgICAgU3RhZmYgSUQ6ICR7c3RhZmZJRH1cXG5cbiAgICAgICAgJHtkZXRhaWxzfVxcblxuICAgICAgICBUaGFuayB5b3UuIFxcblxcbmA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgZW1haWwgY29udGVudCBmb3Igb3RoZXIgcmVxdWVzdHNcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgc3ViamVjdCA9IFwiV0ZIIFJlcXVlc3Qgb3V0Y29tZVwiO1xuICAgICAgICB2YXIgYm9keSA9IGBEZWFyIFN0YWZmLFxcblxcblxuICAgICAgICBQbGVhc2Ugc2VlIHRoZSBvdXRjb21lcyBvZiB5b3VyIHJlY3VycmluZyB3b3JrLWZyb20taG9tZSBhcnJhbmdlbWVudCBkYXRlczpcXG5cXG5cbiAgICAgICAgU3RhZmYgSUQ6ICR7c3RhZmZJRH1cXG5cbiAgICAgICAgJHtkZXRhaWxzfVxcblxuICAgICAgICBUaGFuayB5b3UuIFxcblxcbmA7XG4gICAgICB9IFxuICAgIH1cbiAgICAvLyBFbWFpbCBjb250ZW50IGZvciBhZC1ob2MgYXJyYW5nZW1lbnRzXG4gICAgZWxzZSBpZiAoT2JqZWN0LmtleXMob3V0Y29tZSkubGVuZ3RoID09PSAxKSB7IC8vIHRoZXJlIHdpbGwgYmUgT05MWSAxIHN0YXJ0IGRhdGUgaW4gJ291dGNvbWUnXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvdXRjb21lKSB7XG4gICAgICAgIHZhciBkYXRlID0ga2V5OyAvLyBUaGUgZGF0ZSBzdHJpbmcgYXMgdGhlIGtleVxuICAgICAgICB2YXIgeyBhY3Rpb24sIHJlYXNvbiB9ID0gb3V0Y29tZVtrZXldOyAvLyBEZXN0cnVjdHVyZSB0byBnZXQgYWN0aW9uIGFuZCByZWFzb25cbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgZW1haWwgY29udGVudFxuICAgICAgdmFyIHN1YmplY3QgPSBcIldGSCBSZXF1ZXN0IFwiICsgYWN0aW9uO1xuICAgICAgdmFyIGJvZHkgPSBgRGVhciBTdGFmZixcXG5cXG5cbiAgICAgIEEgd29yay1mcm9tLWhvbWUgYXJyYW5nZW1lbnQgd2FzICR7YWN0aW9ufTpcXG5cXG5cbiAgICAgIFN0YWZmIElEOiAke3N0YWZmSUR9XFxuXG4gICAgICBTdGFydCBEYXRlOiAke2RhdGV9XFxuXG4gICAgICBSZWFzb246ICR7cmVhc29uIHx8IFwiTi9BXCJ9XFxuXFxuXG4gICAgICBUaGFuayB5b3UuIFxcblxcbmA7XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIG91dCB0aGUgZW1haWxcbiAgICBjb25zb2xlLmxvZygnU3ViamVjdDonLCBzdWJqZWN0KTtcbiAgICBjb25zb2xlLmxvZyhib2R5KTtcbiAgICAvLyBTZW5kIG5vdGlmaWNhdGlvbiB1c2luZyBNYWlsdHJhcFxuICAgIGNvbnNvbGUubG9nKGBFbWFpbCBmb3IgV0ZIIHJlcXVlc3Qgc2VudCBzdWNjZXNzZnVsbHkgdG8gJHtzdGFmZkVtYWlsfS5gKTtcbiAgICBhd2FpdCBzZW5kTm90aWZpY2F0aW9uKHN1YmplY3QsIGJvZHkpO1xuXG5cbiAgICAvLyBSZWxlYXNlIHRoZSBjb25uZWN0aW9uIGJhY2sgdG8gdGhlIHBvb2xcbiAgICBjb25uLnJlbGVhc2UoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiBcIkFycmFuZ2VtZW50KHMpIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gdXBkYXRlIGFycmFuZ2VtZW50KHMpXCIsXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaO0FBQUEsU0FBQUEsZUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxJQUFBO0VBQUEsSUFBQUMsTUFBQSxPQUFBQyxRQUFBO0VBQUEsSUFBQUMsR0FBQTtFQUFBLElBQUFDLFlBQUE7SUFBQUwsSUFBQTtJQUFBTSxZQUFBO01BQUE7UUFBQUMsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtJQUFBO0lBQUFFLEtBQUE7TUFBQTtRQUFBQyxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBSSxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7SUFBQTtJQUFBTyxTQUFBO01BQUE7UUFBQUQsR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lB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